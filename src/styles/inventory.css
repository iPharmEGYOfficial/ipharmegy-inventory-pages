.inv{
  min-height:100vh;
  color: rgba(255,255,255,.92);
  background:
    radial-gradient(1200px 700px at 20% 10%, rgba(60,220,255,.18), transparent 55%),
    radial-gradient(900px 600px at 80% 20%, rgba(180,90,255,.18), transparent 60%),
    radial-gradient(900px 700px at 50% 90%, rgba(60,220,170,.12), transparent 60%),
    #070A14;
}

.invHero{
  padding: 34px 18px 18px;
}

.invHeroInner{
  max-width: 1100px;
  margin: 0 auto;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(12px);
  border-radius: 22px;
  padding: 16px 18px;
}

.invBrand{
  display:flex;
  align-items:center;
  gap: 12px;
}
.invLogo{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  object-fit: cover;
  border: 1px solid rgba(255,255,255,.12);
}
.invBrand h1{ margin:0; font-size: 22px; letter-spacing:.2px; }
.invBrand p{ margin:2px 0 0; opacity:.75; font-weight:600; }

.invBadge{ display:flex; gap: 8px; flex-wrap:wrap; }
.chip{
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.08);
  font-weight: 800;
  font-size: 12px;
}

.invMain{ padding: 10px 18px 40px; }
.invGrid{
  max-width: 1100px;
  margin: 0 auto;
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}


  param($m)
  $block = $m.Value
  if ($block -match 'border-radius') {
    $block = $block -replace 'border-radius:\s*[^;]+;','border-radius: 999px;'
  } else {
    $block = $block -replace '\{', "{`r`n  border-radius: 999px;"
  }
  # ضمان overflow hidden
  if ($block -notmatch 'overflow:\s*hidden') {
    $block = $block -replace '\{', "{`r`n  overflow: hidden;"
  }
  $block

.invCard:active{ transform: scale(.99); filter: brightness(1.06); }

.invCardTitle{ font-weight: 900; font-size: 16px; margin-bottom: 6px; }
.invCardDesc{ opacity:.78; font-weight:600; font-size: 13px; line-height:1.35; }
.invCardFoot{ margin-top: 12px; }

.pill{
  display:inline-flex;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  font-weight: 800;
  font-size: 12px;
}

.invFooter{
  text-align:center;
  padding: 18px;
  opacity:.65;
}

@media (max-width: 980px){
  .invGrid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 520px){
  .invGrid{ grid-template-columns: 1fr; }
}

/* ==============================
   Infinity Motion Cards (Ambient)
   ============================== */


  param($m)
  $block = $m.Value
  if ($block -match 'border-radius') {
    $block = $block -replace 'border-radius:\s*[^;]+;','border-radius: 999px;'
  } else {
    $block = $block -replace '\{', "{`r`n  border-radius: 999px;"
  }
  # ضمان overflow hidden
  if ($block -notmatch 'overflow:\s*hidden') {
    $block = $block -replace '\{', "{`r`n  overflow: hidden;"
  }
  $block


/* Soft pulse around the card */
.invCard::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 24px;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.14), transparent 55%),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,0.10), transparent 60%);
  opacity: 0.25;
  filter: blur(8px);
  animation: infPulse 6.5s ease-in-out infinite;
  pointer-events: none;
}

@keyframes infPulse {
  0%, 100% { transform: scale(1); opacity: 0.18; }
  50%      { transform: scale(1.03); opacity: 0.30; }
}

/* Infinity overlay */
.infOverlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.28;
  filter: blur(0.2px);
}

.infSvg {
  position: absolute;
  inset: 10px 14px;
  width: calc(100% - 28px);
  height: calc(100% - 20px);
}

.infPath {
  fill: none;
  stroke: rgba(255,255,255,0.18);
  stroke-width: 3.2;
  stroke-linecap: round;
  stroke-dasharray: 0.012 0.022;
  animation: infFlow 10s linear infinite;
}

@keyframes infFlow {
  to { stroke-dashoffset: -0.25; }
}

.infDot {
  fill: rgba(255,255,255,0.85);
  filter: drop-shadow(0 0 8px rgba(255,255,255,0.40));
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .invCard::before,
  .infPath {
    animation: none !important;
  }
}

 /* ==============================
    Infinity Loop Layout (Lemniscate)
    Cards themselves orbit in  path
    ============================== */

 .invGrid {
   position: relative;
   display: block;
   height: 520px;          /* مساحة المسار */
   margin-top: 18px;
 }

 .invCard.infLoop {
   position: absolute;
   width: 320px;           /* عدّل حسب ذوقك */
   max-width: 44vw;
   transform: translate(-50%, -50%);
   left: 50%;
   top: 50%;
   animation: infOrbit 48s linear infinite;
   animation-delay: calc(var(--i) * -120s);
 }

 /* مسار  باستخدام نقاط keyframes (Figure-8) */
 @keyframes infOrbit {
   0%   { transform: translate(-50%, -50%) translate(-380px, 0px); }
   12%  { transform: translate(-50%, -50%) translate(-240px, -140px); }
   25%  { transform: translate(-50%, -50%) translate(0px, 0px); }
   37%  { transform: translate(-50%, -50%) translate(240px, 140px); }
   50%  { transform: translate(-50%, -50%) translate(380px, 0px); }
   62%  { transform: translate(-50%, -50%) translate(240px, -140px); }
   75%  { transform: translate(-50%, -50%) translate(0px, 0px); }
   87%  { transform: translate(-50%, -50%) translate(-240px, 140px); }
   100% { transform: translate(-50%, -50%) translate(-380px, 0px); }
 }

 @media (max-width: 1100px) {
   .invGrid { height: 520px; }
   .invCard.infLoop { width: 86vw; }
   @keyframes infOrbit {
     0%   { transform: translate(-50%, -50%) translate(-160px, 0px); }
     12%  { transform: translate(-50%, -50%) translate(-90px, -110px); }
     25%  { transform: translate(-50%, -50%) translate(0px, 0px); }
     37%  { transform: translate(-50%, -50%) translate(90px, 110px); }
     50%  { transform: translate(-50%, -50%) translate(160px, 0px); }
     62%  { transform: translate(-50%, -50%) translate(90px, -110px); }
     75%  { transform: translate(-50%, -50%) translate(0px, 0px); }
     87%  { transform: translate(-50%, -50%) translate(-90px, 110px); }
     100% { transform: translate(-50%, -50%) translate(-160px, 0px); }
   }
 }

 @media (prefers-reduced-motion: reduce) {
   .invCard.infLoop { animation: none !important; position: relative; left: auto; top: auto; transform: none; display: block; margin: 12px auto; }
   .invGrid { height: auto; }
 }

.invCard { border-radius: 999px !important; }





 /* ==============================
    Compact Pills for 12 modules
    ============================== */
 .invCard.infLoop{
   width: 300px !important;
   height: 96px !important;
   padding: 14px 18px !important;
 }
 .invCardTitle{ font-size: 18px !important; }
 .invCardDesc{ font-size: 13px !important; opacity: .9; }

 /* ==============================
    12-Card Static Infinity Ring
    Fill the  perimeter with pills
    ============================== */

 /* override positions for first 12 cards */
 
 
   /* left far */
 
 
   /* crossing-left */

   /* crossing-right */
 
 
   /* right far */
 
 

 /* increase loop space slightly */
 .invGrid{ height: 640px !important; }

 /* ==============================
    Mini Infinity Service Chips
    ============================== */

 .invCard.infLoop{
   width: 150px !important;
   height: 52px !important;
   border-radius: 9999px !important;
   display: flex !important;
   align-items: center !important;
   justify-content: center !important;
   gap: 8px;
   font-size: 13px !important;
   padding: 0 14px !important;
 }

 .invCardDesc,
 .invCardFoot{
   display: none !important;   /* نخفي الوصف و coming soon */
 }

 .invCardTitle{
   font-size: 13px !important;
   font-weight: 600;
 }


 /* ==============================
    Clean Symmetric Infinity Orbit
    ============================== */

 .invGrid{
   position: relative !important;
   height: 620px !important;
 }

 .invCard.infLoop{
   position: absolute !important;
   left: 50%;
   top: 50%;
   transform: translate(-50%, -50%);
   animation: cleanInfinity 1440s linear infinite;
   animation-delay: calc(var(--i) * -120s);
 }

 @keyframes cleanInfinity {
   0%   { transform: translate(-50%, -50%) translate(-420px, 0px); }
   12%  { transform: translate(-50%, -50%) translate(-250px, -160px); }
   25%  { transform: translate(-50%, -50%) translate(0px, 0px); }
   37%  { transform: translate(-50%, -50%) translate(250px, 160px); }
   50%  { transform: translate(-50%, -50%) translate(420px, 0px); }
   62%  { transform: translate(-50%, -50%) translate(250px, -160px); }
   75%  { transform: translate(-50%, -50%) translate(0px, 0px); }
   87%  { transform: translate(-50%, -50%) translate(-250px, 160px); }
   100% { transform: translate(-50%, -50%) translate(-420px, 0px); }
 }

 @media (prefers-reduced-motion: reduce){
   .invCard.infLoop{
     animation: none !important;
     position: relative !important;
   }
 }


 /* ==============================
    Static Infinity Ring + Pulse Glow
    ============================== */

 .invGrid{
   position: relative !important;
 }

 .infRing{
   position: absolute;
   inset: 0;
   pointer-events: none;
   z-index: 0;
   display: flex;
   align-items: center;
   justify-content: center;
   opacity: 0.55;
 }

 .infRingSvg{
   width: min(980px, 92vw);
   height: 520px;
   filter: drop-shadow(0 0 28px rgba(255,255,255,0.22));
 }

 .infRingPath{
   fill: none;
   stroke: rgba(255,255,255,0.34);
   stroke-width: 3.2;
   stroke-linecap: round;
   stroke-dasharray: 10 18;        /* نقاط/شرط ترسم حلقة */
   animation: infRingFlow 6.5s linear infinite, infRingPulse 3.2s ease-in-out infinite;
 }

 @keyframes infRingFlow{
   to { stroke-dashoffset: -56; }
 }

 @keyframes infRingPulse{
   0%,100% { opacity: .45; filter: drop-shadow(0 0 18px rgba(255,255,255,0.22)); }
   50%     { opacity: .95; filter: drop-shadow(0 0 40px rgba(255,255,255,0.36)); }
 }

 /* اجعل الكروت فوق المسار */
 .invCard.infLoop{
   z-index: 1;
 }

 @media (prefers-reduced-motion: reduce){
   .infRingPath{ animation: none !important; }
 }

 /* ==============================
    Button UX for service chips
    ============================== */
 .invCard{
   cursor: pointer;
 }
 .invCard:focus-visible{
   outline: 2px solid rgba(255,255,255,0.35);
   outline-offset: 3px;
 }


 /* ==============================
    Circular Service Chips + Colors
    ============================== */

 .invCard.infLoop{
   width: 74px !important;
   height: 74px !important;
   border-radius: 9999px !important;
   padding: 0 !important;
   display: flex !important;
   flex-direction: column !important;
   align-items: center !important;
   justify-content: center !important;
   gap: 4px;
   font-size: 10.5px !important;
   line-height: 1.05;
 }

 .invCardTitle{
   font-size: 10.5px !important;
   font-weight: 700;
   opacity: .95;
   text-align: center;
 }

 /* لو عندك desc/foot مخفيين سابقاً خلّيهم مخفيين */
 .invCardDesc,
 .invCardFoot{ display: none !important; }

 /* ألوان مميزة لكل زر */
 .invGrid .invCard.infLoop:nth-child(1)  { background: rgba(  0,180,255,.18) !important; border: 1px solid rgba(  0,180,255,.35) !important; }
 .invGrid .invCard.infLoop:nth-child(2)  { background: rgba(  0,255,180,.16) !important; border: 1px solid rgba(  0,255,180,.34) !important; }
 .invGrid .invCard.infLoop:nth-child(3)  { background: rgba(255, 90,140,.16) !important; border: 1px solid rgba(255, 90,140,.34) !important; }
 .invGrid .invCard.infLoop:nth-child(4)  { background: rgba(255,180,  0,.14) !important; border: 1px solid rgba(255,180,  0,.34) !important; }
 .invGrid .invCard.infLoop:nth-child(5)  { background: rgba(160,120,255,.16) !important; border: 1px solid rgba(160,120,255,.34) !important; }
 .invGrid .invCard.infLoop:nth-child(6)  { background: rgba(255,255,255,.10) !important; border: 1px solid rgba(255,255,255,.22) !important; }
 .invGrid .invCard.infLoop:nth-child(7)  { background: rgba( 50,255,255,.14) !important; border: 1px solid rgba( 50,255,255,.30) !important; }
 .invGrid .invCard.infLoop:nth-child(8)  { background: rgba(255,120, 50,.14) !important; border: 1px solid rgba(255,120, 50,.32) !important; }
 .invGrid .invCard.infLoop:nth-child(9)  { background: rgba(120,255, 80,.13) !important; border: 1px solid rgba(120,255, 80,.30) !important; }
 .invGrid .invCard.infLoop:nth-child(10) { background: rgba(255, 60, 60,.13) !important; border: 1px solid rgba(255, 60, 60,.30) !important; }
 .invGrid .invCard.infLoop:nth-child(11) { background: rgba( 90,140,255,.14) !important; border: 1px solid rgba( 90,140,255,.30) !important; }
 .invGrid .invCard.infLoop:nth-child(12) { background: rgba(255,255,180,.12) !important; border: 1px solid rgba(255,255,180,.26) !important; }

 .invCard.infLoop:hover{
   filter: brightness(1.08) saturate(1.15);
   transform: translate(-50%, -50%) scale(1.06) !important;
 }


 /* ==============================
    Bright Circular Chips (Glow)
    ============================== */
 .invCard.infLoop{
   color: rgba(255,255,255,0.92) !important;
   backdrop-filter: blur(10px);
   filter: brightness(1.25) saturate(1.25);
   box-shadow:
     0 0 0 1px rgba(255,255,255,0.22),
     0 10px 30px rgba(0,0,0,0.35),
     0 0 26px rgba(255,255,255,0.12);
 }

 .invCardTitle{
   color: rgba(255,255,255,0.94) !important;
   text-shadow: 0 0 10px rgba(255,255,255,0.18);
 }


 /* ==============================
    Hover: bigger + brighter
    ============================== */
 .invCard.infLoop:hover{
   transform: translate(-50%, -50%) scale(1.22) !important;
   filter: brightness(1.65) saturate(1.55) !important;
   box-shadow:
     0 0 0 2px rgba(255,255,255,0.32),
     0 18px 42px rgba(0,0,0,0.42),
     0 0 46px rgba(255,255,255,0.22);
 }

/* z-index on hover */
.invCard.infLoop:hover{ z-index: 10 !important; }

